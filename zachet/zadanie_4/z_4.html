<!DOCTYPE html>
<html>
<head>
  <title>Активация ячеек таблицы</title>
  <style>
    td {
      padding: 10px;
      border: 1px solid black;
    }
    .active {
      background-color: red;
    }
  </style>
</head>
<body>
    <p>Дана таблица с числами. По нажатию на ячейку она активируется и становится красного цвета. Активировать можно много ячеек. Под таблицей кнопка. По нажатию по этой кнопке в абзац ниже выведите сумму активированных ячеек. Реализуйте кнопку ‘сбросить активированные ячейки’</p>
  <table>
    <tr>
      <td onclick="toggleCell(this)">5</td>
      <td onclick="toggleCell(this)">10</td>
      <td onclick="toggleCell(this)">3</td>
    </tr>
    <tr>
      <td onclick="toggleCell(this)">8</td>
      <td onclick="toggleCell(this)">2</td>
      <td onclick="toggleCell(this)">7</td>
    </tr>
    <tr>
      <td onclick="toggleCell(this)">4</td>
      <td onclick="toggleCell(this)">6</td>
      <td onclick="toggleCell(this)">9</td>
    </tr>
  </table>
  <button onclick="calculateSum()">Рассчитать сумму активированных ячеек</button>
  <button onclick="resetCells()">Сбросить активированные ячейки</button>
  <p id="result"></p>

  <script>
    var activeCells = [];

    function toggleCell(cell) {
      cell.classList.toggle('active');
      var index = activeCells.indexOf(cell);

      if (index > -1) {
        activeCells.splice(index, 1);
      } else {
        activeCells.push(cell);
      }
    }

    function calculateSum() {
      var sum = 0;

      for (var i = 0; i < activeCells.length; i++) {
        var cellValue = parseInt(activeCells[i].textContent);

        if (!isNaN(cellValue)) {
          sum += cellValue;
        }
      }

      document.getElementById('result').textContent = 'Сумма активированных ячеек: ' + sum;
    }

    function resetCells() {
      for (var i = 0; i < activeCells.length; i++) {
        activeCells[i].classList.remove('active');
      }

      activeCells = [];
      document.getElementById('result').textContent = '';
    }
  </script>
</body>
</html>
